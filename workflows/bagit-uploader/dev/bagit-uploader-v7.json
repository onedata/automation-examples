{
  "supplementaryAtmLambdas": {
    "a2f92925d49278c5a194c2a3e8ec2df1che8a1": {
      "summary": "",
      "schemaFormatVersion": 1,
      "resultSpecs": [
        {
          "name": "validBagitArchives",
          "isBatch": true,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "REG"
            },
            "type": "file"
          }
        }
      ],
      "operationSpec": {
        "engine": "openfaas",
        "dockerImage": "docker.onedata.org/bagit-uploader-validate:v7",
        "dockerExecutionOptions": {
          "readonly": false,
          "oneclientOptions": "-i",
          "oneclientMountPoint": "/mnt/onedata",
          "mountOneclient": true
        }
      },
      "name": "bagit-uploader-validate-v7",
      "description": "",
      "checksum": "42e11a7a7010fa81827f53842cf1a00a",
      "argumentSpecs": [
        {
          "name": "archives",
          "isOptional": false,
          "isBatch": true,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "ANY"
            },
            "type": "file"
          }
        }
      ]
    },
    "9acb178490ec2b78ebf68b43222190b5ch5b5f": {
      "summary": "",
      "schemaFormatVersion": 1,
      "resultSpecs": [
        {
          "name": "uploadedFiles",
          "isBatch": true,
          "dataSpec": {
            "valueConstraints": {},
            "type": "string"
          }
        }
      ],
      "operationSpec": {
        "engine": "openfaas",
        "dockerImage": "docker.onedata.org/bagit-uploader-unpack-data:v1",
        "dockerExecutionOptions": {
          "readonly": false,
          "oneclientOptions": "-i",
          "oneclientMountPoint": "/mnt/onedata",
          "mountOneclient": true
        }
      },
      "name": "bagit-uploader-unpack-data",
      "description": "",
      "checksum": "6a534bd0d14287acef2e0764cf8f7129",
      "argumentSpecs": [
        {
          "name": "archive",
          "isOptional": false,
          "isBatch": false,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "REG"
            },
            "type": "file"
          }
        },
        {
          "name": "destination",
          "isOptional": false,
          "isBatch": false,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "DIR"
            },
            "type": "file"
          }
        }
      ]
    },
    "793a244ffd51b6e1120049fd7589dce7ch273a": {
      "summary": "",
      "schemaFormatVersion": 1,
      "resultSpecs": [],
      "operationSpec": {
        "engine": "openfaas",
        "dockerImage": "docker.onedata.org/bagit-uploader-register-metadata:v1",
        "dockerExecutionOptions": {
          "readonly": false,
          "oneclientOptions": "-i",
          "oneclientMountPoint": "/mnt/onedata",
          "mountOneclient": true
        }
      },
      "name": "bagit-uploader-register-metadata",
      "description": "",
      "checksum": "bbdbf8d3fb5ea6fee68429c36aede8ca",
      "argumentSpecs": [
        {
          "name": "archive",
          "isOptional": false,
          "isBatch": false,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "REG"
            },
            "type": "file"
          }
        },
        {
          "name": "destination",
          "isOptional": false,
          "isBatch": false,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "DIR"
            },
            "type": "file"
          }
        }
      ]
    },
    "7394502b89f787ad5b3ebc94b4f56d79cha4b5": {
      "summary": "",
      "schemaFormatVersion": 1,
      "resultSpecs": [
        {
          "name": "filesToFetch",
          "isBatch": true,
          "dataSpec": {
            "valueConstraints": {},
            "type": "object"
          }
        }
      ],
      "operationSpec": {
        "engine": "openfaas",
        "dockerImage": "docker.onedata.org/bagit-uploader-unpack-fetch:v8",
        "dockerExecutionOptions": {
          "readonly": false,
          "oneclientOptions": "-i",
          "oneclientMountPoint": "/mnt/onedata",
          "mountOneclient": true
        }
      },
      "name": "unpach-fetch-v8",
      "description": "",
      "checksum": "bac40abe7e0843ee02e64fe5041789d1",
      "argumentSpecs": [
        {
          "name": "archive",
          "isOptional": false,
          "isBatch": false,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "ANY"
            },
            "type": "file"
          }
        },
        {
          "name": "destination",
          "isOptional": false,
          "isBatch": false,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "DIR"
            },
            "type": "file"
          }
        }
      ]
    },
    "68a7bbba128ecc252a8bbd813e51515bch7c28": {
      "summary": "",
      "schemaFormatVersion": 1,
      "resultSpecs": [
        {
          "name": "uploadedFiles",
          "isBatch": true,
          "dataSpec": {
            "valueConstraints": {},
            "type": "string"
          }
        },
        {
          "name": "logs",
          "isBatch": true,
          "dataSpec": {
            "valueConstraints": {},
            "type": "object"
          }
        },
        {
          "name": "failedFetchFiles",
          "isBatch": true,
          "dataSpec": {
            "valueConstraints": {},
            "type": "object"
          }
        }
      ],
      "operationSpec": {
        "engine": "openfaas",
        "dockerImage": "docker.onedata.org/bagit-uploader-fetch-files:v16",
        "dockerExecutionOptions": {
          "readonly": false,
          "oneclientOptions": "-i",
          "oneclientMountPoint": "/mnt/onedata",
          "mountOneclient": true
        }
      },
      "name": "bagit-uploader-fetch-files-v16",
      "description": "",
      "checksum": "ab6070ee3fdb73a87c0554311ce892e0",
      "argumentSpecs": [
        {
          "name": "filesToFetch",
          "isOptional": false,
          "isBatch": true,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {},
            "type": "object"
          }
        }
      ]
    },
    "56986cc3d498716839124df7aa549446ch431d": {
      "summary": "",
      "schemaFormatVersion": 1,
      "resultSpecs": [],
      "operationSpec": {
        "engine": "openfaas",
        "dockerImage": "docker.onedata.org/bagit-uploader-register-metadata-from-data:v1",
        "dockerExecutionOptions": {
          "readonly": false,
          "oneclientOptions": "-i",
          "oneclientMountPoint": "/mnt/onedata",
          "mountOneclient": true
        }
      },
      "name": "bagit-uploader-register-metadata-from-data",
      "description": "",
      "checksum": "4ab25be075660fb9aece4692751a54c2",
      "argumentSpecs": [
        {
          "name": "archive",
          "isOptional": false,
          "isBatch": false,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "REG"
            },
            "type": "file"
          }
        },
        {
          "name": "destination",
          "isOptional": false,
          "isBatch": false,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {
              "fileType": "DIR"
            },
            "type": "file"
          }
        }
      ]
    },
    "311d5639756e96b537d80d7b24ac84bbch10e4": {
      "summary": "",
      "schemaFormatVersion": 1,
      "resultSpecs": [
        {
          "name": "brokenFile",
          "isBatch": false,
          "dataSpec": {
            "valueConstraints": {},
            "type": "object"
          }
        }
      ],
      "operationSpec": {
        "engine": "openfaas",
        "dockerImage": "docker.onedata.org/bagit-uploader-calculate-checksum:v1",
        "dockerExecutionOptions": {
          "readonly": false,
          "oneclientOptions": "-i",
          "oneclientMountPoint": "/mnt/onedata",
          "mountOneclient": true
        }
      },
      "name": "bagit-uploader-calculate-checksum",
      "description": "",
      "checksum": "9c2798ef0362592eadf8705d8a86a108",
      "argumentSpecs": [
        {
          "name": "filePath",
          "isOptional": false,
          "isBatch": false,
          "defaultValue": null,
          "dataSpec": {
            "valueConstraints": {},
            "type": "string"
          }
        }
      ]
    }
  },
  "stores": [
    {
      "type": "list",
      "requiresInitialValue": false,
      "name": "valid-bagit-archives",
      "id": "70e2bacd2140d98ab47f4d410916e5c046fd84",
      "description": "",
      "defaultInitialValue": null,
      "dataSpec": {
        "valueConstraints": {
          "fileType": "REG"
        },
        "type": "file"
      }
    },
    {
      "type": "singleValue",
      "requiresInitialValue": true,
      "name": "destination",
      "id": "c4cd78e53e595960c7294873de51c6a003b8dc",
      "description": "",
      "defaultInitialValue": null,
      "dataSpec": {
        "valueConstraints": {
          "fileType": "DIR"
        },
        "type": "file"
      }
    },
    {
      "type": "list",
      "requiresInitialValue": false,
      "name": "uploaded-files",
      "id": "efe47b7a2edcc94b070e249b06f3c94f9ab7dc",
      "description": "",
      "defaultInitialValue": null,
      "dataSpec": {
        "valueConstraints": {},
        "type": "string"
      }
    },
    {
      "type": "list",
      "requiresInitialValue": false,
      "name": "files-to-fetch",
      "id": "49c0cda6fe0d7fa75faf6bffeb5f81fbe96337",
      "description": "",
      "defaultInitialValue": null,
      "dataSpec": {
        "valueConstraints": {},
        "type": "object"
      }
    },
    {
      "type": "list",
      "requiresInitialValue": false,
      "name": "broken-files",
      "id": "4a5e0ad67bed57ee646c29cd786d40675ef2e3",
      "description": "",
      "defaultInitialValue": null,
      "dataSpec": {
        "valueConstraints": {},
        "type": "object"
      }
    },
    {
      "type": "treeForest",
      "requiresInitialValue": true,
      "name": "input-bagit-archives",
      "id": "0b4510e4f358b7abe9d3d6a364b8dade118eee",
      "description": "",
      "defaultInitialValue": null,
      "dataSpec": {
        "valueConstraints": {
          "fileType": "ANY"
        },
        "type": "file"
      }
    },
    {
      "type": "list",
      "requiresInitialValue": false,
      "name": "logs-store",
      "id": "392c567c533a40fc7d95a63526d64ee2f9bb34",
      "description": "",
      "defaultInitialValue": null,
      "dataSpec": {
        "valueConstraints": {},
        "type": "object"
      }
    },
    {
      "type": "list",
      "requiresInitialValue": false,
      "name": "files-to-fetch-retry-1",
      "id": "88470559bb0fc56e912c6e675004446426f3cf",
      "description": "",
      "defaultInitialValue": null,
      "dataSpec": {
        "valueConstraints": {},
        "type": "object"
      }
    },
    {
      "type": "list",
      "requiresInitialValue": false,
      "name": "files-to-fetch-retry-2",
      "id": "b122c8065d71d6764fdb33ade46a8a9a0ee990",
      "description": "",
      "defaultInitialValue": null,
      "dataSpec": {
        "valueConstraints": {},
        "type": "object"
      }
    }
  ],
  "state": "ready",
  "schemaFormatVersion": 1,
  "name": "bagit-uploader-v7",
  "lanes": [
    {
      "storeIteratorSpec": {
        "strategy": {
          "type": "batch",
          "batchSize": 2
        },
        "storeSchemaId": "0b4510e4f358b7abe9d3d6a364b8dade118eee"
      },
      "parallelBoxes": [
        {
          "tasks": [
            {
              "resultMappings": [
                {
                  "storeSchemaId": "70e2bacd2140d98ab47f4d410916e5c046fd84",
                  "resultName": "validBagitArchives",
                  "dispatchFunction": "append"
                }
              ],
              "name": "bagit-uploader-validate-v7",
              "lambdaId": "a2f92925d49278c5a194c2a3e8ec2df1che8a1",
              "id": "a4704b9477d3994549e4035fe92f80acfb7121",
              "argumentMappings": [
                {
                  "valueBuilder": {
                    "valueBuilderType": "iteratedItem",
                    "valueBuilderRecipe": null
                  },
                  "argumentName": "archives"
                }
              ]
            }
          ],
          "name": "Parallel box",
          "id": "ab4c4379ac1dfd6474defd59d96aaf92651613"
        }
      ],
      "name": "validate",
      "id": "bc148a50dd1eb498c048fd5baceb974bc4069e"
    },
    {
      "storeIteratorSpec": {
        "strategy": {
          "type": "serial"
        },
        "storeSchemaId": "70e2bacd2140d98ab47f4d410916e5c046fd84"
      },
      "parallelBoxes": [
        {
          "tasks": [
            {
              "resultMappings": [
                {
                  "storeSchemaId": "efe47b7a2edcc94b070e249b06f3c94f9ab7dc",
                  "resultName": "uploadedFiles",
                  "dispatchFunction": "append"
                }
              ],
              "name": "unpack-data",
              "lambdaId": "9acb178490ec2b78ebf68b43222190b5ch5b5f",
              "id": "0d56ad97a6606bf403cd114d3c5937d1b86522",
              "argumentMappings": [
                {
                  "valueBuilder": {
                    "valueBuilderType": "iteratedItem",
                    "valueBuilderRecipe": null
                  },
                  "argumentName": "archive"
                },
                {
                  "valueBuilder": {
                    "valueBuilderType": "singleValueStoreContent",
                    "valueBuilderRecipe": "c4cd78e53e595960c7294873de51c6a003b8dc"
                  },
                  "argumentName": "destination"
                }
              ]
            },
            {
              "resultMappings": [
                {
                  "storeSchemaId": "49c0cda6fe0d7fa75faf6bffeb5f81fbe96337",
                  "resultName": "filesToFetch",
                  "dispatchFunction": "append"
                }
              ],
              "name": "unpach-fetch",
              "lambdaId": "7394502b89f787ad5b3ebc94b4f56d79cha4b5",
              "id": "d140141f0f073f8d283ecbca2f968ac57fa26c",
              "argumentMappings": [
                {
                  "valueBuilder": {
                    "valueBuilderType": "iteratedItem",
                    "valueBuilderRecipe": null
                  },
                  "argumentName": "archive"
                },
                {
                  "valueBuilder": {
                    "valueBuilderType": "singleValueStoreContent",
                    "valueBuilderRecipe": "c4cd78e53e595960c7294873de51c6a003b8dc"
                  },
                  "argumentName": "destination"
                }
              ]
            }
          ],
          "name": "Parallel box",
          "id": "16a5f0d2cd2c71675f5e7906d8c251ecb464d3"
        }
      ],
      "name": "unpack",
      "id": "4b5da73192bcf36f4da6890df203a6d20ded53"
    },
    {
      "storeIteratorSpec": {
        "strategy": {
          "type": "batch",
          "batchSize": 1
        },
        "storeSchemaId": "49c0cda6fe0d7fa75faf6bffeb5f81fbe96337"
      },
      "parallelBoxes": [
        {
          "tasks": [
            {
              "resultMappings": [
                {
                  "storeSchemaId": "efe47b7a2edcc94b070e249b06f3c94f9ab7dc",
                  "resultName": "uploadedFiles",
                  "dispatchFunction": "append"
                },
                {
                  "storeSchemaId": "CURRENT_TASK_SYSTEM_AUDIT_LOG",
                  "resultName": "logs",
                  "dispatchFunction": "append"
                },
                {
                  "storeSchemaId": "88470559bb0fc56e912c6e675004446426f3cf",
                  "resultName": "failedFetchFiles",
                  "dispatchFunction": "append"
                }
              ],
              "name": "bagit-uploader-fetch-files-v16",
              "lambdaId": "68a7bbba128ecc252a8bbd813e51515bch7c28",
              "id": "682fc00fdf8caf8a0ddeab1c26ad4d81916cec",
              "argumentMappings": [
                {
                  "valueBuilder": {
                    "valueBuilderType": "iteratedItem",
                    "valueBuilderRecipe": null
                  },
                  "argumentName": "filesToFetch"
                }
              ]
            }
          ],
          "name": "Parallel box",
          "id": "44b8b864ab3f3bcd1f1e880ca72e17867e0c00"
        }
      ],
      "name": "fetch",
      "id": "3c75a2527a64ebe67cd2adc7aae0d4ed984989"
    },
    {
      "storeIteratorSpec": {
        "strategy": {
          "type": "batch",
          "batchSize": 1
        },
        "storeSchemaId": "88470559bb0fc56e912c6e675004446426f3cf"
      },
      "parallelBoxes": [
        {
          "tasks": [
            {
              "resultMappings": [
                {
                  "storeSchemaId": "efe47b7a2edcc94b070e249b06f3c94f9ab7dc",
                  "resultName": "uploadedFiles",
                  "dispatchFunction": "append"
                },
                {
                  "storeSchemaId": "CURRENT_TASK_SYSTEM_AUDIT_LOG",
                  "resultName": "logs",
                  "dispatchFunction": "append"
                },
                {
                  "storeSchemaId": "b122c8065d71d6764fdb33ade46a8a9a0ee990",
                  "resultName": "failedFetchFiles",
                  "dispatchFunction": "append"
                }
              ],
              "name": "bagit-uploader-fetch-files-v16",
              "lambdaId": "68a7bbba128ecc252a8bbd813e51515bch7c28",
              "id": "57904d923d0a288058f56028154cd2cbee6ea1",
              "argumentMappings": [
                {
                  "valueBuilder": {
                    "valueBuilderType": "iteratedItem",
                    "valueBuilderRecipe": null
                  },
                  "argumentName": "filesToFetch"
                }
              ]
            }
          ],
          "name": "Parallel box",
          "id": "c97728202886171676db785d9d63961cccce7d"
        }
      ],
      "name": "fetch-retry-1",
      "id": "364701161d47637f22824f7df1381239e93da0"
    },
    {
      "storeIteratorSpec": {
        "strategy": {
          "type": "serial"
        },
        "storeSchemaId": "70e2bacd2140d98ab47f4d410916e5c046fd84"
      },
      "parallelBoxes": [
        {
          "tasks": [
            {
              "resultMappings": [],
              "name": "register-metadata",
              "lambdaId": "793a244ffd51b6e1120049fd7589dce7ch273a",
              "id": "b2acf043d4d808198561bcf95af92dc87bf965",
              "argumentMappings": [
                {
                  "valueBuilder": {
                    "valueBuilderType": "iteratedItem",
                    "valueBuilderRecipe": null
                  },
                  "argumentName": "archive"
                },
                {
                  "valueBuilder": {
                    "valueBuilderType": "singleValueStoreContent",
                    "valueBuilderRecipe": "c4cd78e53e595960c7294873de51c6a003b8dc"
                  },
                  "argumentName": "destination"
                }
              ]
            }
          ],
          "name": "Parallel box",
          "id": "67908a19df1f29e0a88abaa34609740f12e99b"
        },
        {
          "tasks": [
            {
              "resultMappings": [],
              "name": "bagit-uploader-register-metadata-from-data",
              "lambdaId": "56986cc3d498716839124df7aa549446ch431d",
              "id": "99b2e566f3a1b7b229720176e8be5553fa0f6b",
              "argumentMappings": [
                {
                  "valueBuilder": {
                    "valueBuilderType": "iteratedItem",
                    "valueBuilderRecipe": null
                  },
                  "argumentName": "archive"
                },
                {
                  "valueBuilder": {
                    "valueBuilderType": "singleValueStoreContent",
                    "valueBuilderRecipe": "c4cd78e53e595960c7294873de51c6a003b8dc"
                  },
                  "argumentName": "destination"
                }
              ]
            }
          ],
          "name": "Parallel box",
          "id": "de1fb5cf27a171a154be0b15d058dcf24f26df"
        }
      ],
      "name": "register-metadata",
      "id": "70bb239bbe06dee9d03c71664ebd9fc47d69a2"
    },
    {
      "storeIteratorSpec": {
        "strategy": {
          "type": "serial"
        },
        "storeSchemaId": "efe47b7a2edcc94b070e249b06f3c94f9ab7dc"
      },
      "parallelBoxes": [
        {
          "tasks": [
            {
              "resultMappings": [
                {
                  "storeSchemaId": "4a5e0ad67bed57ee646c29cd786d40675ef2e3",
                  "resultName": "brokenFile",
                  "dispatchFunction": "append"
                }
              ],
              "name": "calculate-checksum",
              "lambdaId": "311d5639756e96b537d80d7b24ac84bbch10e4",
              "id": "0c59e7f1550634e8894cfa7bee97985580f969",
              "argumentMappings": [
                {
                  "valueBuilder": {
                    "valueBuilderType": "iteratedItem",
                    "valueBuilderRecipe": null
                  },
                  "argumentName": "filePath"
                }
              ]
            }
          ],
          "name": "Parallel box",
          "id": "9142f8739e6b1a00aa7b269a4c0a703dcedc58"
        }
      ],
      "name": "calculate-checksum",
      "id": "43077bf69835800b70565bd92c98c94b2f4f9d"
    }
  ],
  "description": "",
  "atmWorkflowSchemaId": "88ffe3f0f01e8a0fa3397449e29b8c6echd8c9"
}